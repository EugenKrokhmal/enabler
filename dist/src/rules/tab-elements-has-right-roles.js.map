{"version":3,"file":"tab-elements-has-right-roles.js","sourceRoot":"","sources":["../../../src/rules/tab-elements-has-right-roles.ts"],"names":[],"mappings":";;AAAA,0CAAqC;AAErC,kCAAiD,CAAM,EAAE,OAAe;IACtE,OAAO,IAAI,mBAAS,CAAC;QACnB,SAAS,EAAE,CAAC;QACZ,OAAO,SAAA;QACP,SAAS,EAAE;YACT,mBAAmB;YACnB,kBAAkB;YAClB,cAAc;SACf;QACD,SAAS,EAAE,UAAC,KAAU;YACpB,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAChC,IAAM,oBAAoB,GAAG,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,UAAU,CAAC;YACnE,IAAM,gBAAgB,GAAG,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,MAAM,CAAC;YAChE,IAAM,sBAAsB,GAAG,KAAK,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC,MAAM,CAAC;YAEpF,OAAO,CAAC,oBAAoB,IAAI,CAAC,gBAAgB,CAAC;gBAC1C,CAAC,CAAC,oBAAoB,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAC7D,CAAC;QACD,cAAc,EAAE,UAAC,EAAO;YACtB,IAAM,IAAI,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;YAE7B,OAAO,IAAI,KAAK,SAAS,CAAC,CAAC;gBACzB,+FAA+F,CAAC,CAAC;gBACjG,kFAAkF,CAAC;QACvF,CAAC;KACF,CAAC,CAAC;AACL,CAAC;AA1BD,2CA0BC","sourcesContent":["import Validator from '../validator';\n\nexport default function tabElementsHasRightRoles($: any, content: string) {\n  return new Validator({\n    $template: $,\n    content,\n    selectors: [\n      '[role=\"tabpanel\"]',\n      '[role=\"tablist\"]',\n      '[role=\"tab\"]'\n    ],\n    isInvalid: ($elem: any) => {\n      const role = $elem.attr('role');\n      const isChildrenTabElement = role === 'tab' || role === 'tabpanel';\n      const hasParentTablist = $elem.closest('[role=tablist]').length;\n      const hasChildrenTabElements = $elem.find('[role=\"tab\"], [role=\"tabpanel\"]').length;\n\n      return (isChildrenTabElement && !hasParentTablist) ||\n              (!isChildrenTabElement && !hasChildrenTabElements);\n    },\n    warningMessage: (el: any) => {\n      const role = el.attribs.role;\n\n      return role === 'tablist' ?\n        'Elements with role=\"tablist\" should should have elements with role=\"tabpanel\" and role=\"tab\".' :\n        'Elements with role=\"tabpanel\" or role=\"tab\" should be wrapped in role=\"tablist\".';\n    }\n  });\n}\n"]}