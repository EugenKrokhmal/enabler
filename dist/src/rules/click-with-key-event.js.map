{"version":3,"file":"click-with-key-event.js","sourceRoot":"","sources":["../../../src/rules/click-with-key-event.ts"],"names":[],"mappings":";;AAAA,0CAAqC;AAGrC,SAAwB,sBAAsB,CAAC,CAAM,EAAE,OAAe,EAAE,OAAuB;IAC7F,OAAO,IAAI,mBAAS,CAAC;QACnB,SAAS,EAAE,CAAC;QACZ,OAAO,SAAA;QACP,SAAS,EAAE,GAAG;QACd,SAAS,EAAE,UAAC,KAAU;YACpB,IAAI,WAAW,GAAG;gBAChB;oBACE,WAAW,EAAE,SAAS;oBACtB,WAAW,EAAE,CAAC,SAAS,EAAE,WAAW,EAAE,YAAY,CAAC;iBACpD;aACF,CAAC;YAEF,IAAI,OAAO,CAAC,EAAE,EAAE;gBACd,WAAW,GACN,WAAW;oBACd;wBACE,WAAW,EAAE,SAAS;wBACtB,WAAW,EAAE,CAAC,SAAS,EAAE,WAAW,EAAE,YAAY,CAAC;qBACpD;kBACF,CAAC;aACH;YAED,OAAO,WAAW;iBACf,MAAM,CAAC,UAAC,SAAS;gBACR,IAAA,mCAAW,EAAE,mCAAW,CAAe;gBAC/C,IAAM,qBAAqB,GAAG,WAAW,CAAC,IAAI,CAAC,UAAA,SAAS,IAAI,OAAA,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,EAArB,CAAqB,CAAC,CAAC;gBAEnF,OAAO,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,qBAAqB,CAAC;YAC3D,CAAC,CAAC;iBACD,MAAM,CAAC;QACZ,CAAC;QACD,cAAc,EAAE,iGAAiG;KAClH,CAAC,CAAC;AACL,CAAC;AAlCD,yCAkCC","sourcesContent":["import Validator from '../validator';\nimport { ProgramOptions } from './../models';\n\nexport default function clickWithKeyboardEvent($: any, content: string, options: ProgramOptions) {\n  return new Validator({\n    $template: $,\n    content,\n    selectors: '*',\n    isInvalid: ($elem: any) => {\n      let eventsPairs = [\n        {\n          targetEvent: 'onclick',\n          assocEvents: ['onkeyup', 'onkeydown', 'onkeypress']\n        }\n      ];\n\n      if (options.ng) {\n        eventsPairs = [\n          ...eventsPairs,\n          {\n            targetEvent: '(click)',\n            assocEvents: ['(keyup)', '(keydown)', '(keypress)']\n          }\n        ];\n      }\n\n      return eventsPairs\n        .filter((eventPair) => {\n          const { targetEvent, assocEvents } = eventPair;\n          const hasAssociatedListener = assocEvents.some(eventName => $elem.attr(eventName));\n\n          return $elem.attr(targetEvent) && !hasAssociatedListener;\n        })\n        .length;\n    },\n    warningMessage: 'Visible, non-interactive elements with click handlers must have at least one keyboard listener.'\n  });\n}\n"]}