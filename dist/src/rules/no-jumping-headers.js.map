{"version":3,"file":"no-jumping-headers.js","sourceRoot":"","sources":["../../../src/rules/no-jumping-headers.ts"],"names":[],"mappings":";;AAAA,0CAAqC;AAErC,SAAS,wBAAwB,CAAC,YAAoB,EAAE,UAAe;IACrE,IAAM,gBAAgB,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAEvD,OAAO,IAAI,CAAC,GAAG,CAAC,YAAY,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC;AACvD,CAAC;AAED,SAAwB,gBAAgB,CAAC,CAAM,EAAC,OAAe;IAC7D,OAAO,IAAI,mBAAS,CAAC;QACnB,SAAS,EAAE,CAAC;QACZ,OAAO,SAAA;QACP,SAAS,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;QAC/C,SAAS,EAAE,UAAC,KAAU;YACpB,IAAM,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAC/B,IAAM,YAAY,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,IAAM,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAEzC,OAAO,UAAU,CAAC,MAAM,IAAI,wBAAwB,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;QACjF,CAAC;QACD,cAAc,EAAE,2JAA2J;KAC5K,CAAC,CAAC;AACL,CAAC;AAdD,mCAcC","sourcesContent":["import Validator from '../validator';\n\nfunction isDiffersByMoreThanLevel(headingLevel: number, nextHeader: any) {\n  const nextHeadingLevel = Number(nextHeader[0].name[1]);\n\n  return Math.abs(headingLevel - nextHeadingLevel) > 1;\n}\n\nexport default function noJumpingHeaders($: any,content: string) {\n  return new Validator({\n    $template: $,\n    content,\n    selectors: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n    isInvalid: ($elem: any) => {\n      const headName = $elem[0].name;\n      const headingLevel = Number(headName[1]);\n      const nextHeader = $elem.next(':header');\n\n      return nextHeader.length && isDiffersByMoreThanLevel(headingLevel, nextHeader);\n    },\n    warningMessage: 'There must be no “jumps” or inconsistencies in the heading structure — no sudden change from an <h1> to an <h3> without an intervening <h2>, for example.'\n  });\n}\n"]}