{"version":3,"file":"placeholder-has-label.js","sourceRoot":"","sources":["../../../src/rules/placeholder-has-label.ts"],"names":[],"mappings":";;AAAA,0CAAqC;AACrC,kCAAwC;AAExC,6BAA4C,CAAM,EAAC,OAAe;IAChE,OAAO,IAAI,mBAAS,CAAC;QACnB,SAAS,EAAE,CAAC;QACZ,OAAO,SAAA;QACP,SAAS,EAAE,CAAC,kBAAkB,EAAE,UAAU,CAAC;QAC3C,UAAU,EAAE,CAAC,IAAI,EAAE,aAAa,CAAC;QACjC,SAAS,EAAE,UAAC,KAAU,EAAE,KAAe;YACrC,IAAM,gBAAgB,GAAG,KAAK,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,EAA1B,CAA0B,CAAC,CAAC;YAC1E,IAAM,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAjB,CAAiB,CAAC,CAAC;YAExD,IAAM,QAAQ,GAAG,oBAAY,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YAC9C,IAAM,WAAW,GAAG,oBAAY,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAC;YAC1D,IAAM,YAAY,GAAG,CAAC,CAAC,iBAAc,QAAQ,QAAI,CAAC,CAAC;YAEnD,OAAO,CAAC,YAAY,CAAC,MAAM,IAAI,WAAW,CAAC;QAC7C,CAAC;QACD,cAAc,EAAE,mGAAmG;KACpH,CAAC,CAAC;AACL,CAAC;AAlBD,sCAkBC","sourcesContent":["import Validator from '../validator';\nimport { getAttrValue } from '../utils';\n\nexport default function placeholderHasLabel($: any,content: string) {\n  return new Validator({\n    $template: $,\n    content,\n    selectors: ['input[type=text]', 'textarea'],\n    assocAttrs: ['id', 'placeholder'],\n    isInvalid: ($elem: any, attrs: string[]) => {\n      const placeholderAttrs = attrs.filter(attr => /placeholder/gi.test(attr));\n      const idAttrs = attrs.filter(attr => /id/gi.test(attr));\n\n      const inputsId = getAttrValue($elem, idAttrs);\n      const placeholder = getAttrValue($elem, placeholderAttrs);\n      const relatedLabel = $(`label[for=\"${inputsId}\"]`);\n\n      return !relatedLabel.length && placeholder;\n    },\n    warningMessage: 'Placeholders in inputs and textareas should be used in addition to a label, not as a replacement.'\n  });\n}\n"]}